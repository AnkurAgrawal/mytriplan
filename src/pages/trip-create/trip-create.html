<ion-header>

  <ion-navbar>
    <ion-title>{{ 'ITEM_CREATE_TITLE' | translate }}</ion-title>
    <ion-buttons start>
      <button ion-button (click)="cancel()">
        <span color="primary" showWhen="ios">
          {{ 'CANCEL_BUTTON' | translate }}
        </span>
        <ion-icon name="md-close" showWhen="android,windows"></ion-icon>
      </button>
    </ion-buttons>
    <ion-buttons end>
      <button ion-button (click)="done()" [disabled]="!form.valid" strong>
        <span color="primary" showWhen="ios">
          {{ 'DONE_BUTTON' | translate }}
        </span>
        <ion-icon name="md-checkmark" showWhen="core,android,windows"></ion-icon>
      </button>
    </ion-buttons>
  </ion-navbar>

</ion-header>


<ion-content>
  <ion-slides #createTripSlider pager (ionSlideWillChange)="slideChanging()">
    <ion-slide>
      <form *ngIf="form" [formGroup]="form" (ngSubmit)="createTrip()">
        <input type="file" #fileInput style="visibility: hidden; height: 0px" name="files[]" (change)="processWebImage($event)" />
        <div class="trip-image-wrapper" (click)="getPicture()">
          <div class="trip-image-placeholder" *ngIf="!this.form.controls.tripPic.value">
            <ion-icon name="add"></ion-icon>
            <div>
              {{ 'ITEM_CREATE_CHOOSE_IMAGE' | translate }}
            </div>
          </div>
          <div class="trip-image" [style.backgroundImage]="getProfileImageStyle()" *ngIf="this.form.controls.tripPic.value"></div>
        </div>
        <ion-list>
          <ion-item>
            <ion-input type="text" placeholder="{{ 'ITEM_NAME_PLACEHOLDER' | translate }}" formControlName="name" autocorrect="on" clearInput></ion-input>
          </ion-item>
          <ion-item>
            <ion-textarea placeholder="{{ 'ITEM_DESCRIPTION_PLACEHOLDER' | translate }}" formControlName="description"></ion-textarea>
          </ion-item>
          <ion-item>
            <ion-label floating>{{ 'ITEM_DATE_FROM_PLACEHOLDER' | translate }}</ion-label>
            <ion-datetime displayFormat="MM/DD/YYYY" pickerFormat="MMM DD YYYY" formControlName="dateFrom" (ionchange)="dateChanged()"></ion-datetime>
          </ion-item>
          <ion-item>
            <ion-label floating>{{ 'ITEM_DATE_TO_PLACEHOLDER' | translate }}</ion-label>
            <ion-datetime displayFormat="MM/DD/YYYY" pickerFormat="MMM DD YYYY" formControlName="dateTo"></ion-datetime>
          </ion-item>
        </ion-list>
      </form>
    </ion-slide>
    <ion-slide>

      <ion-label>Let's make your itinerary</ion-label>
      <ion-note>You can start by tapping on the '+' button</ion-note>

      <ion-fab bottom right>
        <button color="light" ion-fab (click)="openAddPlan()">
          <ion-icon name="add" role="img" aria-label="add activity"></ion-icon>
        </button>
      </ion-fab>
      <ion-toolbar *ngIf="itinerary" no-border-top class="trip-itinerary">
        <ion-scroll scrollX="true" style="height:45px" >
          <ion-segment [(ngModel)]="itinerary">
          </ion-segment>
        </ion-scroll>
      </ion-toolbar>
    </ion-slide>
  </ion-slides>


</ion-content>